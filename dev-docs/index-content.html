<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tabba - A new tab that you'll actually use</title>
  <meta name="description" content="Tabba is a new tab extension that shows every hour of your year, with notes, tools, and zero tracking.">
  <meta name="keywords" content="tabba, new tab, extension, notes, tools, zero tracking">
  <meta name="author" content="Tabba">
  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow">
  <meta name="google" content="notranslate">
  <meta name="google-site-verification" content="google-site-verification=google-site-verification">
  <!-- Phosphor Icons -->
  <link rel="stylesheet" type="text/css" href="../src/assets/phosphor-icons/regular/style.css">
  <link rel="stylesheet" type="text/css" href="../src/assets/phosphor-icons/fill/style.css">
  <!-- Styles -->
  <link rel="stylesheet" href="styles/variables.css">
  <link rel="stylesheet" href="styles/base.css">
  <link rel="stylesheet" href="styles/landing.css">
</head>
<body>
  <div class="page-content">
    <!-- Navbar -->
    <nav class="navbar">
      <div class="container">
        <div class="navbar-content">
          <a href="#" class="navbar-logo" aria-label="Home">
            <img src="assets/tabba-logo.svg" alt="Tabba logo" aria-hidden="true" />
          </a>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <div class="hero-content">
          <div class="hero-column hero-column-left">
            <h1 class="hero-headline">A new tab that you'll actually use</h1>
          </div>
          <div class="hero-column hero-column-right">
            <p class="hero-description">A beautiful new tab that shows every hour of your year, with notes, tools, and zero tracking.</p>
            <div class="hero-actions">
              <a href="#" class="btn btn-primary">
                Add to Chrome
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                  <path d="M6 4H12V10M12 4L4 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </a>
              <a href="#" class="btn btn-tertiary">Explore</a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Preview Module and Screenshot Container -->
      <div class="preview-container">
        <!-- Tabbed Preview Module -->
        <div class="container">
          <div class="preview-module">
            <p class="preview-description">Tabba replaces your New Tab in your web browser with beautiful and helpful tools:</p>
            <div class="preview-tabs tab-container">
              <button class="tab-option active" data-tab="calendar" data-video="01-calendar.mp4">
                <i class="ph ph-grid-nine"></i>
                <span>calendar</span>
              </button>
              <button class="tab-option" data-tab="todos" data-video="02-todos.mp4">
                <i class="ph ph-check-circle"></i>
                <span>to do</span>
              </button>
              <button class="tab-option" data-tab="symbols" data-video="03-symbols.mp4">
                <i class="ph ph-shapes"></i>
                <span>symbols</span>
              </button>
              <button class="tab-option" data-tab="bookmarks" data-video="04-bookmarks.mp4">
                <i class="ph ph-bookmark"></i>
                <span>bookmarks</span>
              </button>
              <button class="tab-option" data-tab="timezones" data-video="05-timezones.mp4">
                <i class="ph ph-globe-hemisphere-east"></i>
                <span>timezones</span>
              </button>
              <button class="tab-option" data-tab="draw" data-video="07-draw.mp4">
                <i class="ph ph-pencil"></i>
                <span>draw</span>
              </button>
              <button class="tab-option" data-tab="time" data-video="08-time.mp4">
                <i class="ph ph-clock"></i>
                <span>time</span>
              </button>
            </div>
          </div>
        </div>
        
        <!-- Screenshot Section -->
        <div class="container">
          <div class="hero-screenshot">
            <div class="screenshot-frame">
              <div class="screenshot-image-frame">
                <img src="assets/hero.png" alt="Tabba extension interface" class="screenshot-image hidden">
                <video class="screenshot-video" id="preview-video" autoplay loop muted playsinline preload="auto">
                  <source src="assets/01-calendar.mp4" type="video/mp4">
                </video>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  
  <script>
    // Tab switching functionality
    const previewTabs = document.querySelectorAll('.preview-tabs .tab-option');
    const previewVideo = document.getElementById('preview-video');
    
    // Preload all videos for smoother transitions
    const videoCache = new Map();
    const videoFiles = Array.from(previewTabs).map(tab => tab.getAttribute('data-video'));
    videoFiles.forEach(videoFile => {
      if (videoFile) {
        const video = document.createElement('video');
        video.src = `assets/${videoFile}`;
        video.preload = 'auto';
        videoCache.set(videoFile, video);
      }
    });
    
    // Only load videos on-demand (when tab is clicked)
    previewTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs
        previewTabs.forEach(t => t.classList.remove('active'));
        
        // Add active class to clicked tab
        tab.classList.add('active');
        
        // Get video filename from data attribute
        const videoFile = tab.getAttribute('data-video');
        
        // Update video source only if different
        if (videoFile && previewVideo) {
          const currentSource = previewVideo.querySelector('source').src;
          const newSource = `assets/${videoFile}`;
          
          // Only load if it's a different video
          if (!currentSource.includes(videoFile)) {
            // Very subtle fade for smooth transition
            previewVideo.style.opacity = '0.7';
            
            // Quick switch
            setTimeout(() => {
              previewVideo.pause();
              previewVideo.currentTime = 0;
              previewVideo.querySelector('source').src = newSource;
              previewVideo.load();
              
              // Once video is ready, restore opacity and play
              previewVideo.addEventListener('loadeddata', function playVideo() {
                previewVideo.style.opacity = '1';
                previewVideo.play().catch(e => {
                  console.log('Autoplay prevented:', e);
                });
                previewVideo.removeEventListener('loadeddata', playVideo);
              }, { once: true });
            }, 50); // Very quick transition
          }
        }
      });
    });
    
    // Load the default video when page is ready
    if (previewVideo) {
      previewVideo.load();
    }
  </script>
</body>
</html>

